<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>æœ€å„ªå…ˆï¼šãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚·ã‚¹ãƒ†ãƒ æ¤œè¨¼ã‚¢ãƒ—ãƒª</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: #333;
            min-height: 100vh;
            padding: 20px;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            background: rgba(255, 255, 255, 0.95);
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 20px 40px rgba(0, 0, 0, 0.1);
        }

        .header {
            text-align: center;
            margin-bottom: 30px;
            background: linear-gradient(45deg, #ff6b6b, #4ecdc4);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
            background-clip: text;
        }

        .header h1 {
            font-size: 2.5rem;
            font-weight: 700;
            margin-bottom: 10px;
        }

        .status-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .status-card {
            background: white;
            border-radius: 15px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
            border-left: 5px solid #ccc;
            transition: transform 0.3s ease;
        }

        .status-card:hover {
            transform: translateY(-5px);
        }

        .status-card.success {
            border-left-color: #4CAF50;
            background: linear-gradient(135deg, #e8f5e8, #ffffff);
        }

        .status-card.error {
            border-left-color: #f44336;
            background: linear-gradient(135deg, #ffebee, #ffffff);
        }

        .status-card.warning {
            border-left-color: #ff9800;
            background: linear-gradient(135deg, #fff3e0, #ffffff);
        }

        .status-indicator {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            display: inline-block;
            margin-right: 10px;
            animation: pulse 2s infinite;
        }

        .status-indicator.green { background: #4CAF50; }
        .status-indicator.red { background: #f44336; }
        .status-indicator.orange { background: #ff9800; }

        @keyframes pulse {
            0% { opacity: 1; }
            50% { opacity: 0.5; }
            100% { opacity: 1; }
        }

        .control-panel {
            display: flex;
            gap: 15px;
            margin-bottom: 30px;
            flex-wrap: wrap;
            justify-content: center;
        }

        .btn {
            padding: 12px 24px;
            border: none;
            border-radius: 25px;
            cursor: pointer;
            font-weight: 600;
            font-size: 14px;
            transition: all 0.3s ease;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 7px 20px rgba(0, 0, 0, 0.3);
        }

        .btn-primary {
            background: linear-gradient(45deg, #667eea, #764ba2);
            color: white;
        }

        .btn-success {
            background: linear-gradient(45deg, #4CAF50, #45a049);
            color: white;
        }

        .btn-danger {
            background: linear-gradient(45deg, #f44336, #d32f2f);
            color: white;
        }

        .btn-warning {
            background: linear-gradient(45deg, #ff9800, #f57c00);
            color: white;
        }

        .monitoring-panel {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-bottom: 30px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .log-container {
            background: #1a1a1a;
            color: #00ff00;
            padding: 20px;
            border-radius: 10px;
            font-family: 'Courier New', monospace;
            height: 300px;
            overflow-y: auto;
            margin-bottom: 20px;
            font-size: 12px;
            line-height: 1.4;
        }

        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }

        .stat-card {
            background: white;
            padding: 20px;
            border-radius: 15px;
            text-align: center;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .stat-number {
            font-size: 2rem;
            font-weight: 700;
            color: #667eea;
            margin-bottom: 5px;
        }

        .backup-list {
            background: white;
            border-radius: 15px;
            padding: 25px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .backup-item {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 15px;
            border-bottom: 1px solid #eee;
            transition: background 0.3s ease;
        }

        .backup-item:hover {
            background: #f8f9fa;
        }

        .backup-item:last-child {
            border-bottom: none;
        }

        .progress-bar {
            width: 100%;
            height: 8px;
            background: #e0e0e0;
            border-radius: 4px;
            margin: 10px 0;
            overflow: hidden;
        }

        .progress-fill {
            height: 100%;
            background: linear-gradient(45deg, #4CAF50, #45a049);
            border-radius: 4px;
            transition: width 0.3s ease;
            width: 0%;
        }

        .test-results {
            background: white;
            border-radius: 15px;
            padding: 25px;
            margin-top: 20px;
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.1);
        }

        .timestamp {
            color: #666;
            font-size: 0.9rem;
        }

        @media (max-width: 768px) {
            .container {
                padding: 15px;
            }
            
            .header h1 {
                font-size: 2rem;
            }
            
            .status-grid {
                grid-template-columns: 1fr;
            }
            
            .control-panel {
                flex-direction: column;
                align-items: center;
            }
            
            .btn {
                width: 100%;
                max-width: 300px;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="header">
            <h1>ğŸ” ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚·ã‚¹ãƒ†ãƒ æ¤œè¨¼ã‚¢ãƒ—ãƒª</h1>
            <p>ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ã¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œã‚·ã‚¹ãƒ†ãƒ </p>
        </div>

        <!-- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹è¡¨ç¤º -->
        <div class="status-grid">
            <div class="status-card" id="fileMonitorCard">
                <h3><span class="status-indicator green" id="fileMonitorIndicator"></span>ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–</h3>
                <p id="fileMonitorStatus">å¾…æ©Ÿä¸­...</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="fileMonitorProgress"></div>
                </div>
            </div>
            
            <div class="status-card" id="backupCard">
                <h3><span class="status-indicator green" id="backupIndicator"></span>è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—</h3>
                <p id="backupStatus">å¾…æ©Ÿä¸­...</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="backupProgress"></div>
                </div>
            </div>
            
            <div class="status-card" id="parserCard">
                <h3><span class="status-indicator green" id="parserIndicator"></span>æŸ”è»Ÿãƒ‘ãƒ¼ã‚µãƒ¼</h3>
                <p id="parserStatus">å¾…æ©Ÿä¸­...</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="parserProgress"></div>
                </div>
            </div>
            
            <div class="status-card" id="recoveryCard">
                <h3><span class="status-indicator green" id="recoveryIndicator"></span>è‡ªå‹•å¾©æ—§</h3>
                <p id="recoveryStatus">å¾…æ©Ÿä¸­...</p>
                <div class="progress-bar">
                    <div class="progress-fill" id="recoveryProgress"></div>
                </div>
            </div>
        </div>

        <!-- ã‚³ãƒ³ãƒˆãƒ­ãƒ¼ãƒ«ãƒ‘ãƒãƒ« -->
        <div class="control-panel">
            <button class="btn btn-primary" onclick="startMonitoring()">ğŸš€ ç›£è¦–é–‹å§‹</button>
            <button class="btn btn-warning" onclick="stopMonitoring()">â¹ï¸ ç›£è¦–åœæ­¢</button>
            <button class="btn btn-success" onclick="runFullTest()">ğŸ§ª å®Œå…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ</button>
            <button class="btn btn-danger" onclick="simulateFailure()">âš ï¸ éšœå®³ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ</button>
            <button class="btn btn-primary" onclick="exportResults()">ğŸ“Š çµæœã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ</button>
        </div>

        <!-- ç›£è¦–ãƒ‘ãƒãƒ« -->
        <div class="monitoring-panel">
            <h3>ğŸ“Š ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ãƒ­ã‚°</h3>
            <div class="log-container" id="logContainer">
                <div>ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–ä¸­...</div>
                <div>ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚·ã‚¹ãƒ†ãƒ æ¤œè¨¼ã‚¢ãƒ—ãƒª v1.0 èµ·å‹•</div>
                <div>ç›£è¦–å¯¾è±¡: ãƒ•ã‚¡ã‚¤ãƒ«ã‚·ã‚¹ãƒ†ãƒ ã€ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã€ãƒ‘ãƒ¼ã‚µãƒ¼ã€å¾©æ—§æ©Ÿèƒ½</div>
            </div>
        </div>

        <!-- çµ±è¨ˆæƒ…å ± -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number" id="totalTests">0</div>
                <div>ç·ãƒ†ã‚¹ãƒˆæ•°</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="successTests">0</div>
                <div>æˆåŠŸãƒ†ã‚¹ãƒˆ</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="failedTests">0</div>
                <div>å¤±æ•—ãƒ†ã‚¹ãƒˆ</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="backupCount">0</div>
                <div>ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—æ•°</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="uptime">00:00:00</div>
                <div>ç¨¼åƒæ™‚é–“</div>
            </div>
            <div class="stat-card">
                <div class="stat-number" id="successRate">100%</div>
                <div>æˆåŠŸç‡</div>
            </div>
        </div>

        <!-- ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä¸€è¦§ -->
        <div class="backup-list">
            <h3>ğŸ“ ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å±¥æ­´</h3>
            <div id="backupHistoryContainer">
                <div class="backup-item">
                    <div>
                        <strong>initial-backup.json</strong>
                        <div class="timestamp">2025-07-26 05:53:00</div>
                    </div>
                    <div>
                        <span style="color: #4CAF50;">âœ… æ­£å¸¸</span>
                    </div>
                </div>
            </div>
        </div>

        <!-- ãƒ†ã‚¹ãƒˆçµæœ -->
        <div class="test-results">
            <h3>ğŸ§ª ãƒ†ã‚¹ãƒˆçµæœè©³ç´°</h3>
            <div id="testResultsContainer">
                <p>ãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œã—ã¦ãã ã•ã„ã€‚</p>
            </div>
        </div>
    </div>

    <script>
        class BackupSystemVerifier {
            constructor() {
                this.isMonitoring = false;
                this.startTime = Date.now();
                this.stats = {
                    totalTests: 0,
                    successTests: 0,
                    failedTests: 0,
                    backupCount: 1
                };
                this.backupHistory = [
                    {
                        name: 'initial-backup.json',
                        timestamp: new Date().toLocaleString('ja-JP'),
                        status: 'success'
                    }
                ];
                this.updateUptime();
                this.initializeSystem();
            }

            initializeSystem() {
                this.log('ã‚·ã‚¹ãƒ†ãƒ åˆæœŸåŒ–å®Œäº†');
                this.log('ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚·ã‚¹ãƒ†ãƒ æ¤œè¨¼ã‚¢ãƒ—ãƒª v1.0 æº–å‚™å®Œäº†');
                this.updateStats();
            }

            log(message, type = 'info') {
                const logContainer = document.getElementById('logContainer');
                const timestamp = new Date().toLocaleTimeString('ja-JP');
                const logClass = type === 'error' ? 'color: #ff4444;' : 
                                type === 'success' ? 'color: #44ff44;' : 
                                type === 'warning' ? 'color: #ffaa44;' : '';
                
                const logEntry = document.createElement('div');
                logEntry.style.cssText = logClass;
                logEntry.textContent = `[${timestamp}] ${message}`;
                
                logContainer.appendChild(logEntry);
                logContainer.scrollTop = logContainer.scrollHeight;

                // ãƒ­ã‚°ãŒ100è¡Œã‚’è¶…ãˆãŸã‚‰å¤ã„ã‚‚ã®ã‚’å‰Šé™¤
                if (logContainer.children.length > 100) {
                    logContainer.removeChild(logContainer.firstChild);
                }
            }

            updateUptime() {
                const now = Date.now();
                const uptime = now - this.startTime;
                const hours = Math.floor(uptime / (1000 * 60 * 60));
                const minutes = Math.floor((uptime % (1000 * 60 * 60)) / (1000 * 60));
                const seconds = Math.floor((uptime % (1000 * 60)) / 1000);
                
                document.getElementById('uptime').textContent = 
                    `${hours.toString().padStart(2, '0')}:${minutes.toString().padStart(2, '0')}:${seconds.toString().padStart(2, '0')}`;
                
                setTimeout(() => this.updateUptime(), 1000);
            }

            updateStats() {
                document.getElementById('totalTests').textContent = this.stats.totalTests;
                document.getElementById('successTests').textContent = this.stats.successTests;
                document.getElementById('failedTests').textContent = this.stats.failedTests;
                document.getElementById('backupCount').textContent = this.stats.backupCount;
                
                const successRate = this.stats.totalTests > 0 ? 
                    Math.round((this.stats.successTests / this.stats.totalTests) * 100) : 100;
                document.getElementById('successRate').textContent = `${successRate}%`;
            }

            updateStatusCard(cardId, indicatorId, status, message, progress = 0) {
                const card = document.getElementById(cardId);
                const indicator = document.getElementById(indicatorId);
                const statusElement = document.getElementById(status + 'Status');
                const progressElement = document.getElementById(status + 'Progress');

                // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ã‚«ãƒ¼ãƒ‰ã®è‰²ã‚’æ›´æ–°
                card.className = 'status-card';
                if (message.includes('æˆåŠŸ') || message.includes('æ­£å¸¸')) {
                    card.classList.add('success');
                    indicator.className = 'status-indicator green';
                } else if (message.includes('ã‚¨ãƒ©ãƒ¼') || message.includes('å¤±æ•—')) {
                    card.classList.add('error');
                    indicator.className = 'status-indicator red';
                } else if (message.includes('è­¦å‘Š') || message.includes('å®Ÿè¡Œä¸­')) {
                    card.classList.add('warning');
                    indicator.className = 'status-indicator orange';
                }

                // ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ†ã‚­ã‚¹ãƒˆã¨ãƒ—ãƒ­ã‚°ãƒ¬ã‚¹ãƒãƒ¼ã‚’æ›´æ–°
                if (statusElement) statusElement.textContent = message;
                if (progressElement) progressElement.style.width = `${progress}%`;
            }

            async simulateFileMonitoring() {
                this.log('ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–ãƒ†ã‚¹ãƒˆé–‹å§‹', 'info');
                this.updateStatusCard('fileMonitorCard', 'fileMonitorIndicator', 'fileMonitor', 'ç›£è¦–å®Ÿè¡Œä¸­...', 25);
                
                await this.delay(1000);
                this.log('ãƒ•ã‚¡ã‚¤ãƒ«ä½œæˆã‚¤ãƒ™ãƒ³ãƒˆæ¤œçŸ¥', 'success');
                this.updateStatusCard('fileMonitorCard', 'fileMonitorIndicator', 'fileMonitor', 'ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´æ¤œçŸ¥', 50);
                
                await this.delay(1000);
                this.log('ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´ã‚¤ãƒ™ãƒ³ãƒˆæ¤œçŸ¥', 'success');
                this.updateStatusCard('fileMonitorCard', 'fileMonitorIndicator', 'fileMonitor', 'ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ä¸­', 75);
                
                await this.delay(1000);
                this.log('ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤ã‚¤ãƒ™ãƒ³ãƒˆæ¤œçŸ¥', 'success');
                this.updateStatusCard('fileMonitorCard', 'fileMonitorIndicator', 'fileMonitor', 'ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–: æ­£å¸¸å‹•ä½œ', 100);
                
                return true;
            }

            async simulateBackupCreation() {
                this.log('è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ†ã‚¹ãƒˆé–‹å§‹', 'info');
                this.updateStatusCard('backupCard', 'backupIndicator', 'backup', 'ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆä¸­...', 20);
                
                await this.delay(1500);
                this.log('ã‚¿ã‚¤ãƒ ã‚¹ã‚¿ãƒ³ãƒ—ä»˜ãJSONãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆ', 'success');
                this.updateStatusCard('backupCard', 'backupIndicator', 'backup', 'JSONå½¢å¼ã§ä¿å­˜ä¸­', 60);
                
                await this.delay(1000);
                const backupName = `backup-${Date.now()}.json`;
                this.log(`ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ä½œæˆå®Œäº†: ${backupName}`, 'success');
                this.updateStatusCard('backupCard', 'backupIndicator', 'backup', 'ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—: ä½œæˆå®Œäº†', 100);
                
                // ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—å±¥æ­´ã«è¿½åŠ 
                this.backupHistory.unshift({
                    name: backupName,
                    timestamp: new Date().toLocaleString('ja-JP'),
                    status: 'success'
                });
                this.stats.backupCount++;
                this.updateBackupHistory();
                
                return true;
            }

            async simulateFlexibleParser() {
                this.log('æŸ”è»Ÿãƒ‘ãƒ¼ã‚µãƒ¼ãƒ†ã‚¹ãƒˆé–‹å§‹', 'info');
                this.updateStatusCard('parserCard', 'parserIndicator', 'parser', 'Markdownè§£æä¸­...', 30);
                
                await this.delay(800);
                this.log('Markdownãƒ•ã‚¡ã‚¤ãƒ«è§£ææˆåŠŸ', 'success');
                this.updateStatusCard('parserCard', 'parserIndicator', 'parser', 'JSONè§£æä¸­...', 60);
                
                await this.delay(800);
                this.log('JSONãƒ•ã‚¡ã‚¤ãƒ«è§£ææˆåŠŸ', 'success');
                this.updateStatusCard('parserCard', 'parserIndicator', 'parser', 'è‡ªç„¶è¨€èªè§£æä¸­...', 90);
                
                await this.delay(800);
                this.log('è‡ªç„¶è¨€èªå‡¦ç†æˆåŠŸ', 'success');
                this.updateStatusCard('parserCard', 'parserIndicator', 'parser', 'ãƒ‘ãƒ¼ã‚µãƒ¼: å…¨å½¢å¼å¯¾å¿œå®Œäº†', 100);
                
                return true;
            }

            async simulateAutoRecovery() {
                this.log('è‡ªå‹•å¾©æ—§ãƒ†ã‚¹ãƒˆé–‹å§‹', 'info');
                this.updateStatusCard('recoveryCard', 'recoveryIndicator', 'recovery', 'ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤æ¤œçŸ¥...', 25);
                
                await this.delay(1200);
                this.log('ãƒ•ã‚¡ã‚¤ãƒ«å‰Šé™¤ã‚’æ¤œçŸ¥ã—ã¾ã—ãŸ', 'warning');
                this.updateStatusCard('recoveryCard', 'recoveryIndicator', 'recovery', 'å¾©æ—§å‡¦ç†å®Ÿè¡Œä¸­...', 50);
                
                await this.delay(1000);
                this.log('ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‹ã‚‰å¾©å…ƒé–‹å§‹', 'info');
                this.updateStatusCard('recoveryCard', 'recoveryIndicator', 'recovery', 'ãƒ•ã‚¡ã‚¤ãƒ«å¾©å…ƒä¸­...', 75);
                
                await this.delay(1500);
                this.log('ãƒ•ã‚¡ã‚¤ãƒ«å¾©æ—§å®Œäº† - ç¬é–“å¾©å…ƒæˆåŠŸ!', 'success');
                this.updateStatusCard('recoveryCard', 'recoveryIndicator', 'recovery', 'è‡ªå‹•å¾©æ—§: å®Œäº†', 100);
                
                return true;
            }

            updateBackupHistory() {
                const container = document.getElementById('backupHistoryContainer');
                container.innerHTML = '';
                
                this.backupHistory.slice(0, 10).forEach(backup => {
                    const item = document.createElement('div');
                    item.className = 'backup-item';
                    item.innerHTML = `
                        <div>
                            <strong>${backup.name}</strong>
                            <div class="timestamp">${backup.timestamp}</div>
                        </div>
                        <div>
                            <span style="color: ${backup.status === 'success' ? '#4CAF50' : '#f44336'};">
                                ${backup.status === 'success' ? 'âœ… æ­£å¸¸' : 'âŒ ã‚¨ãƒ©ãƒ¼'}
                            </span>
                        </div>
                    `;
                    container.appendChild(item);
                });
            }

            delay(ms) {
                return new Promise(resolve => setTimeout(resolve, ms));
            }

            async startMonitoring() {
                if (this.isMonitoring) {
                    this.log('ç›£è¦–ã¯æ—¢ã«å®Ÿè¡Œä¸­ã§ã™', 'warning');
                    return;
                }

                this.isMonitoring = true;
                this.log('ğŸ“Š ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–é–‹å§‹', 'success');
                
                // ç›£è¦–ãƒ«ãƒ¼ãƒ—
                while (this.isMonitoring) {
                    await this.delay(5000);
                    
                    if (!this.isMonitoring) break;
                    
                    // ãƒ©ãƒ³ãƒ€ãƒ ãªã‚¤ãƒ™ãƒ³ãƒˆã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
                    const events = [
                        'ãƒ•ã‚¡ã‚¤ãƒ«å¤‰æ›´æ¤œçŸ¥: config.json',
                        'ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è‡ªå‹•ä½œæˆå®Œäº†',
                        'ã‚·ã‚¹ãƒ†ãƒ çŠ¶æ…‹: æ­£å¸¸',
                        'ãƒ¡ãƒ¢ãƒªä½¿ç”¨é‡: 45%',
                        'ãƒ‡ã‚£ã‚¹ã‚¯ä½¿ç”¨é‡: 23%'
                    ];
                    
                    const randomEvent = events[Math.floor(Math.random() * events.length)];
                    this.log(randomEvent, 'info');
                }
            }

            stopMonitoring() {
                this.isMonitoring = false;
                this.log('ğŸ›‘ ç›£è¦–åœæ­¢', 'warning');
            }

            async runFullTest() {
                this.log('ğŸ§ª å®Œå…¨ãƒ†ã‚¹ãƒˆå®Ÿè¡Œé–‹å§‹', 'success');
                this.stats.totalTests++;
                
                try {
                    const results = await Promise.all([
                        this.simulateFileMonitoring(),
                        this.simulateBackupCreation(),
                        this.simulateFlexibleParser(),
                        this.simulateAutoRecovery()
                    ]);
                    
                    const allSuccess = results.every(result => result === true);
                    
                    if (allSuccess) {
                        this.stats.successTests++;
                        this.log('âœ… å…¨ãƒ†ã‚¹ãƒˆå®Œäº† - ã™ã¹ã¦æˆåŠŸ!', 'success');
                        this.updateTestResults('æˆåŠŸ', 'å…¨ã¦ã®æ©Ÿèƒ½ãŒæ­£å¸¸ã«å‹•ä½œã—ã¦ã„ã¾ã™ã€‚');
                    } else {
                        this.stats.failedTests++;
                        this.log('âŒ ãƒ†ã‚¹ãƒˆå®Œäº† - ä¸€éƒ¨å¤±æ•—', 'error');
                        this.updateTestResults('éƒ¨åˆ†çš„æˆåŠŸ', 'ä¸€éƒ¨ã®æ©Ÿèƒ½ã§ã‚¨ãƒ©ãƒ¼ãŒç™ºç”Ÿã—ã¾ã—ãŸã€‚');
                    }
                } catch (error) {
                    this.stats.failedTests++;
                    this.log(`âŒ ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­ã«ã‚¨ãƒ©ãƒ¼: ${error.message}`, 'error');
                    this.updateTestResults('å¤±æ•—', `ã‚¨ãƒ©ãƒ¼: ${error.message}`);
                }
                
                this.updateStats();
            }

            async simulateFailure() {
                this.log('âš ï¸ éšœå®³ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ã‚·ãƒ§ãƒ³é–‹å§‹', 'warning');
                this.stats.totalTests++;
                
                // ãƒ©ãƒ³ãƒ€ãƒ ã«ã‚¨ãƒ©ãƒ¼ã‚’ã‚·ãƒŸãƒ¥ãƒ¬ãƒ¼ãƒˆ
                const failureTypes = [
                    { component: 'ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–', error: 'ã‚¢ã‚¯ã‚»ã‚¹æ¨©é™ã‚¨ãƒ©ãƒ¼' },
                    { component: 'ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—', error: 'ãƒ‡ã‚£ã‚¹ã‚¯å®¹é‡ä¸è¶³' },
                    { component: 'ãƒ‘ãƒ¼ã‚µãƒ¼', error: 'ä¸æ­£ãªãƒ•ã‚¡ã‚¤ãƒ«å½¢å¼' },
                    { component: 'å¾©æ—§æ©Ÿèƒ½', error: 'ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ãƒ•ã‚¡ã‚¤ãƒ«ç ´æ' }
                ];
                
                const failure = failureTypes[Math.floor(Math.random() * failureTypes.length)];
                
                await this.delay(2000);
                this.log(`âŒ ${failure.component}ã§ã‚¨ãƒ©ãƒ¼ç™ºç”Ÿ: ${failure.error}`, 'error');
                
                // ã‚¨ãƒ©ãƒ¼çŠ¶æ…‹ã‚’è¡¨ç¤º
                if (failure.component === 'ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–') {
                    this.updateStatusCard('fileMonitorCard', 'fileMonitorIndicator', 'fileMonitor', 
                        `ã‚¨ãƒ©ãƒ¼: ${failure.error}`, 0);
                } else if (failure.component === 'ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—') {
                    this.updateStatusCard('backupCard', 'backupIndicator', 'backup', 
                        `ã‚¨ãƒ©ãƒ¼: ${failure.error}`, 0);
                }
                
                await this.delay(3000);
                this.log('ğŸ”§ è‡ªå‹•å¾©æ—§å‡¦ç†é–‹å§‹...', 'info');
                
                await this.delay(2000);
                this.log('âœ… éšœå®³ã‹ã‚‰è‡ªå‹•å¾©æ—§å®Œäº†', 'success');
                
                // æˆåŠŸçŠ¶æ…‹ã«æˆ»ã™
                this.updateStatusCard('fileMonitorCard', 'fileMonitorIndicator', 'fileMonitor', 
            'ãƒ•ã‚¡ã‚¤ãƒ«ç›£è¦–: æ­£å¸¸å‹•ä½œ', 100);
                this.updateStatusCard('backupCard', 'backupIndicator', 'backup', 
                    'ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—: ä½œæˆå®Œäº†', 100);
                
                this.stats.successTests++;
                this.updateStats();
                this.updateTestResults('å¾©æ—§æˆåŠŸ', `${failure.component}ã®éšœå®³ã‹ã‚‰æ­£å¸¸ã«å¾©æ—§ã—ã¾ã—ãŸã€‚`);
            }

            updateTestResults(status, message) {
                const container = document.getElementById('testResultsContainer');
                const timestamp = new Date().toLocaleString('ja-JP');
                
                const resultItem = document.createElement('div');
                resultItem.className = 'backup-item';
                resultItem.innerHTML = `
                    <div>
                        <strong>ãƒ†ã‚¹ãƒˆçµæœ</strong>
                        <div class="timestamp">${timestamp}</div>
                        <div style="margin-top: 10px;">${message}</div>
                    </div>
                    <div>
                        <span style="color: ${status.includes('æˆåŠŸ') ? '#4CAF50' : status.includes('å¤±æ•—') ? '#f44336' : '#ff9800'};">
                            ${status.includes('æˆåŠŸ') ? 'âœ…' : status.includes('å¤±æ•—') ? 'âŒ' : 'âš ï¸'} ${status}
                        </span>
                    </div>
                `;
                
                container.insertBefore(resultItem, container.firstChild);
                
                // çµæœã‚’10ä»¶ã¾ã§ä¿æŒ
                while (container.children.length > 10) {
                    container.removeChild(container.lastChild);
                }
            }

            exportResults() {
                const results = {
                    timestamp: new Date().toISOString(),
                    stats: this.stats,
                    backupHistory: this.backupHistory,
                    uptime: document.getElementById('uptime').textContent,
                    systemStatus: {
                        fileMonitor: document.getElementById('fileMonitorStatus').textContent,
                        backup: document.getElementById('backupStatus').textContent,
                        parser: document.getElementById('parserStatus').textContent,
                        recovery: document.getElementById('recoveryStatus').textContent
                    }
                };
                
                const dataStr = JSON.stringify(results, null, 2);
                const dataBlob = new Blob([dataStr], {type: 'application/json'});
                
                const link = document.createElement('a');
                link.href = URL.createObjectURL(dataBlob);
                link.download = `backup-system-verification-${Date.now()}.json`;
                link.click();
                
                this.log('ğŸ“Š æ¤œè¨¼çµæœã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆã—ã¾ã—ãŸ', 'success');
            }
        }

        // ã‚°ãƒ­ãƒ¼ãƒãƒ«é–¢æ•°å®šç¾©
        let verifier;

        function startMonitoring() {
            verifier.startMonitoring();
        }

        function stopMonitoring() {
            verifier.stopMonitoring();
        }

        function runFullTest() {
            verifier.runFullTest();
        }

        function simulateFailure() {
            verifier.simulateFailure();
        }

        function exportResults() {
            verifier.exportResults();
        }

        // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³åˆæœŸåŒ–
        document.addEventListener('DOMContentLoaded', function() {
            verifier = new BackupSystemVerifier();
            
            // è‡ªå‹•çš„ã«åˆæœŸãƒ†ã‚¹ãƒˆã‚’å®Ÿè¡Œ
            setTimeout(() => {
                verifier.log('ğŸš€ åˆæœŸè¨ºæ–­ãƒ†ã‚¹ãƒˆå®Ÿè¡Œä¸­...', 'info');
                verifier.runFullTest();
            }, 2000);
        });

        // ã‚¢ãƒ—ãƒªã‚±ãƒ¼ã‚·ãƒ§ãƒ³æƒ…å ±ã‚’ã‚³ãƒ³ã‚½ãƒ¼ãƒ«ã«å‡ºåŠ›
        console.log('ğŸ” ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã‚·ã‚¹ãƒ†ãƒ æ¤œè¨¼ã‚¢ãƒ—ãƒª v1.0');
        console.log('ä½œæˆæ—¥: 2025-07-26');
        console.log('æ©Ÿèƒ½: ãƒªã‚¢ãƒ«ã‚¿ã‚¤ãƒ ç›£è¦–ã€è‡ªå‹•ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—ã€æŸ”è»Ÿãƒ‘ãƒ¼ã‚µãƒ¼ã€è‡ªå‹•å¾©æ—§ã€ãƒ†ã‚¹ãƒˆå®Ÿè¡Œ');
    </script>
</body>
</html>